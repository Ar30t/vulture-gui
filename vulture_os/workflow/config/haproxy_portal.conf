#This file is part of Vulture OS.
#

########################## WARNING ###############################
# Don't edit this file, it is automatically generated by Vulture #
########################## WARNING ###############################


backend portal_{{ conf.frontend.id }}_{{ conf.backend.id }}
    timeout connect 2s
    timeout server 2s
    mode http
    # Load-Balance between cluster nodes
    server srv-portal_{{ conf.frontend.id }}_{{ conf.backend.id }} portal:8000/{{conf.id}}/{{conf.backend.id}}/ check
    {% for node in nodes %}
    server srv-portal_{{ node.name }}_{{ conf.frontend.id }}_{{ conf.backend.id }} {{node.name}}:9000/{{conf.id}}/{{conf.backend.id}}/ check
    {% endfor %}
